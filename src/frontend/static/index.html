<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Segment Anything 2 Demo</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <div class="header-left">
                <h1>Thermal Studio</h1>
                <p class="subtitle">A tool to view histogram of the masked objects in a video, powered by Segment Anything 2 model</p>
            </div>
            <nav class="header-nav">
                <a href="#about">About</a>
            </nav>
        </header>

        <main class="app-main">
            <section class="upload-section" id="upload-section">
                <div class="upload-area" id="upload-area">
                    <div class="upload-content">
                        <div class="upload-icon">üìÅ</div>
                        <h3>Drop your video here</h3>
                        <p>or</p>
                        <label for="file-input" class="file-input-label">Choose Video File</label>
                        <input type="file" id="file-input" accept="video/*" required>
                    </div>
                    <div class="upload-progress" id="upload-progress" style="display: none;">
                        <div class="progress-bar">
                            <div class="progress-fill"></div>
                        </div>
                        <p class="progress-text">Uploading...</p>
                    </div>
                </div>
            </section>

            <div class="workspace" id="workspace" style="display: none;">
                <aside class="sidebar">
                    <div class="step-indicator">
                        <span class="step-number">1/3</span>
                        <h2>Select objects</h2>
                        <p class="step-description">
                            Adjust the selection of your object, or add additional objects.
                            Press "Track objects" to track your objects throughout the video.
                            Use left mouse button to add positive prompt points, and right mouse button to add negative prompt points.
                        </p>
                    </div>

                    <div class="objects-list">
                        <div class="object-item" id="object-1">
                            <div class="object-preview">
                                <canvas class="object-thumbnail"></canvas>
                            </div>
                            <div class="object-label">Object 1</div>
                            <div class="object-controls">
                                <button class="add-point-btn" data-action="add"> <!-- TODO: rename add-point-btn to add-positive-prompt-btn, rename data-action="add" to data-action="add-positive-prompt" -->
                                    <span class="icon">+</span> Add a positive prompt-point
                                </button>
                                <button class="remove-point-btn" data-action="remove"> <!-- TODO: rename remove-point-btn to add-negative-prompt-btn, rename data-action="remove" to data-action="add-negative-prompt" -->
                                    <span class="icon">-</span> Add a negative prompt-point
                                </button>
                            </div>
                        </div>
                    </div>

                    <button class="add-object-btn" id="add-object">
                        <span class="icon">+</span> Add another object
                    </button>

                    <div class="bottom-controls">
                        <button class="secondary-btn" id="start-over">
                            <span class="icon">‚Ü∫</span> Start over
                        </button>
                        <button class="primary-btn" id="track-objects">
                            Track objects <span class="icon">‚Üí</span>
                        </button>
                    </div>
                </aside>

                <section class="main-content">
                    <div class="canvas-container">
                        <canvas id="canvas"></canvas>
                        <div class="tooltip" id="tooltip">
                            <p>Tip: Not what you expected? Add a few more clicks until the full object you want is selected.</p>
                            <a href="#" class="learn-more">Learn more</a>
                            <button class="ok-btn">Ok</button>
                        </div>
                    </div>
                    
                    <div class="video-timeline">
                        <div class="timeline-controls">
                            <button id="play-pause" class="play-btn">
                                <span class="icon">‚ñ∂</span>
                            </button>
                            <div class="timeline-slider">
                                <input type="range" id="frame-slider" min="0" max="100" value="0">
                                <div class="frame-preview" id="frame-preview"></div>
                            </div>
                            <span id="frame-display" class="time-display">0:00</span>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>
    
    <script src="/static/js/main.js"></script>
</body>
</html> 